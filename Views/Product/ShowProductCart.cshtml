@model List<CW16.Entity.Product>
@{
}



<div class="container">


			<br />
	<div class="d-flex justify-content-between">
		<div>
			<h2>محصولات</h2>
		</div>
		<div>
			<a class="btn btn-success" asp-controller="Product" asp-action="Create">ثبت نهایی سبد خرید</a>
		</div>
		<br />
		</div>
	<table class="table table-striped">

		<thead>

			<tr>

				<th>ردیف</th>
				<th>نام</th>
				<th>رنگ</th>
				<th>موجودی</th>
				<th>قیمت واحد</th>
				<th>عملیات</th>

			</tr>

		</thead>


		<tbody>

			@for (int i = 0; i < Model.Count; i++)
			{
										<tr>
											<td>
						@(i + 1)
											</td>
											<td>
						@Model[i].Name
											</td>
											<td>
						@Model[i].Color
											</td>
											<td>
						@Model[i].Quantity
											</td>
											<td>
						@Model[i].UnitPrice
											</td>
											<td>

			<!-- A link that triggers the modal -->
			<a type="button" data-bs-toggle="modal" data-bs-target="#deleteModal" class="btn btn-danger">حذف</a>

			<!-- The modal dialog -->
			<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog">
			  <div class="modal-dialog" role="document">
				<div class="modal-content">
				  <div class="modal-header">
					<h5 class="modal-title">Delete Confirmation</h5>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				  </div>
				  <div class="modal-body">
					Are you sure you want to delete this item?
				  </div>
				  <div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
					<form method="post">
						<button asp-route-id="@Model[i].Id" asp-action="DeleteFromCart" asp-controller="Product">Delete</button>
					</form>

				  </div>
				</div>
			  </div>
			</div>										
											</td>

										</tr>
			}


		</tbody>

	</table>


</div>
@section Scripts
	{ 
		<script>
	var exampleModal = document.getElementById('deleteModal')
	exampleModal.addEventListener('show.bs.modal', function (event) {
	  // Button that triggered the modal
	  var button = event.relatedTarget
	  // Extract info from data-bs-* attributes
	  var recipient = button.getAttribute('data-bs-whatever')
	  // If necessary, you could initiate an AJAX request here
	  // and then do the updating in a callback.
	  //
	  // Update the modal's content.
	  var modalTitle = exampleModal.querySelector('.modal-title')
	  var modalBodyInput = exampleModal.querySelector('.modal-body input')

	  modalTitle.textContent = 'New message to ' + recipient
	  modalBodyInput.value = recipient
	})
		</script>
}






